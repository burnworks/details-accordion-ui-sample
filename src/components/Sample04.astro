---
import Code from './Code.astro';

const details = [
    {
        title: "サービス案内",
        contents: [
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
        ],
    },
    {
        title: "会社概要",
        contents: [
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
        ],
    },
    {
        title: "採用情報",
        contents: [
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
            {
                title: "サブメニュー的なもの",
                href: "#",
            },
        ],
    },
]

const html = `<div class="details-sample-04">
    <h2 class="details-sample-header">サンプル 04</h2>
    <div class="details-wrap">
        <!--↓ここからがひとつのブロック↓-->
        <details>
            <summary>
                <span class="summary-text">
                    サービス案内    
                </span>
                <span class="summary-icon" aria-hidden="true">
                    <svg class="open-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
                    </svg>
                    <svg class="close-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M18 12H6" />
                    </svg>
                </span>
            </summary>
            <div class="details-text">
                <ul>
                    <li>
                        <a href="#">
                            サブメニュー的なもの
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            サブメニュー的なもの
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                        </a>
                    </li>
                </ul>
            </div>
        </details>
        <!--↑ここまでがひとつのブロック↑-->
    </div>
</div>`

const css = `/*---
下記 CSS はあくまでサンプルです。
他のCSSやブラウザの標準スタイルとの関係で調整が必要かもしれません
---*/

.details-sample-04 {
    margin-left: auto;
    margin-right: auto;
    max-width: 64rem;
}

.details-sample-04 .details-sample-header {
    font-size: 1.5rem;
    font-weight: 700;
    color: rgb(17 24 39 / 1);
}

.details-sample-04 .details-wrap > :not([hidden]) ~ :not([hidden]) {
	border-top-width: 1px;
    border-top-style: solid;
	border-color: rgb(17 24 39 / 0.1);
}

.details-sample-04 .details-wrap {
    margin-top: 2.5rem;
	border-radius: 0.5rem;
    border-style: solid;
	border-width: 1px;
	border-color: rgb(17 24 39 / 0.1);
}

.details-sample-04 details {
    padding: 0;
    margin: 0;
}

.details-sample-04 details summary {
    box-sizing: border-box;
	padding: 1.5rem;
	color: rgb(17 24 39 / 1);
	display: flex;
	width: 100%;
	list-style-type: none;
	align-items: flex-start;
	justify-content: space-between;
}

.details-sample-04 details summary:hover {
    cursor: pointer;
}

.details-sample-04 details summary::-webkit-details-marker {
    display: none;
}

.details-sample-04 details .summary-text {
    width: 100%;
    font-size: 1rem;
    font-weight: 600;
}

.details-sample-04 details summary > :not([hidden]) ~ :not([hidden]) {
    margin-left: 1.5rem;
}

.details-sample-04 details .summary-icon {
	display: flex;
	height: 1.5rem;
	flex-shrink: 0;
	align-items: center;
	color: rgb(75 85 99 / 1);
}

.details-sample-04 details .summary-icon .open-icon {
    display: block;
    height: 1.5rem;
    width: 1.5rem;
}

.details-sample-04 details .summary-icon .close-icon {
    display: none;
    height: 1.5rem;
    width: 1.5rem;
}

.details-sample-04 details[open] .summary-icon .open-icon {
    display: none;
}

.details-sample-04 details[open] .summary-icon .close-icon {
    display: block;
}

.details-sample-04 details .details-text {
	padding-bottom: 1.5rem;
	color: rgb(55 65 81 / 1);
}

.details-sample-04 details .details-text ul {
    padding: 0;
    margin: 0;
	list-style-type: none;
}

.details-sample-04 details .details-text ul li a {
	padding-left: 1.5rem;
	padding-right: 1.5rem;
	padding-top: 0.625rem;
	padding-bottom: 0.625rem;
	text-decoration-line: none;
	transition-property: background-color;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 150ms;
}

.details-sample-04 details .details-text ul li a {
	color: rgb(17 24 39 / 1);
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.details-sample-04 details .details-text ul li a:hover {
	background-color: rgb(249 250 251 / 0.8);
}

.details-sample-04 details .details-text ul li svg {
	height: 1rem;
	width: 1.5rem;
	flex-shrink: 0;
}`
---

<div class="bg-white px-4 py-24" id="sample-04">
    <div class="mx-auto max-w-7xl">
        <div class="details-sample-04">
            <h2 class="details-sample-header">サンプル 04 （メニュー的なもの）</h2>
            <div class="details-wrap">
                {details.map((details) => (
                    <details>
                        <summary>
                            <span class="summary-text">
                                {details.title}    
                            </span>
                            <span class="summary-icon" aria-hidden="true">
                                <svg class="open-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
                                </svg>
                                <svg class="close-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M18 12H6" />
                                </svg>
                            </span>
                        </summary>
                        <div class="details-text">
                            <ul>
                            {details.contents.map((contents) => (
                                <li>
                                    <a href={contents.href}>
                                        {contents.title}
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                        </svg>
                                    </a>
                                </li>
                            ))}
                            </ul>
                        </div>
                    </details>
                ))}
            </div>
        </div>
    </div>
</div>
<Code html={html} css={css} />
<style>
    .details-sample-04 {
        @apply mx-auto max-w-5xl;

        .details-sample-header {
            @apply text-2xl font-bold text-gray-900;
        }

        .details-wrap {
            @apply mt-10 border border-gray-900/10 rounded-lg divide-y divide-gray-900/10;
        }

        details {

            summary {
                @apply p-6 flex w-full items-start justify-between text-gray-900 space-x-6 list-none;

                &:hover {
                    @apply cursor-pointer;
                }

                &::-webkit-details-marker {
                    display: none;
                }
            }

            .summary-text {
                @apply text-base font-semibold w-full;
            }

            .summary-icon {
                @apply flex shrink-0 h-6 items-center text-gray-600;

                .open-icon {
                    @apply block h-6 w-6;
                }

                .close-icon {
                    @apply hidden h-6 w-6;
                }
            }

            &[open] {
                .summary-icon {
                    .open-icon {
                        @apply hidden;
                    }

                    .close-icon {
                        @apply block;
                    }
                }
            }

            .details-text {
                @apply text-gray-700 pb-6;

                ul {
                    @apply list-none;

                    li {
                        a {
                            @apply px-6 py-2.5 flex justify-between items-center space-x-4 no-underline transition-colors;
                            
                            &:hover {
                                @apply bg-gray-50/80;
                            }
                        }

                        svg {
                            @apply shrink-0 w-6 h-4;
                        }
                    }
                }
            }
        }
    }
</style>