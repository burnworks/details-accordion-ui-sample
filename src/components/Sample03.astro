---
import Code from './Code.astro';

const details = [
    {
        title: "よくある質問と答え（FAQ）のようなコンテンツでよくみるアコーディオン UI のサンプル。",
        contents: "<p>質問に対してここに答えを入れるイメージ。リストされている質問の数がとても多い場合などには、答え部分を閉じておくことで、質問を一覧できていいかもしれないけど、項目が少ないならあんまり閉じておく意味はないかもね。</p>",
    },
    {
        title: "今一番欲しいものは何ですか？",
        contents: "<p>税引き後金額で5000兆円欲しいけど、妥協して10億円でもいい。</p>",
    },
    {
        title: "好きな食べ物は何ですか？",
        contents: "<p>グミが好きです。でもゼリーの方がもっと好きです。</p>",
    },
]

const html = `<div class="details-sample-03">
    <h2 class="details-sample-header">サンプル 03</h2>
    <div class="details-wrap">
        <!--↓ここからがひとつのブロック↓-->
        <details>
            <summary>
                <span class="summary-text">よくある質問と答え（FAQ）のようなコンテンツでよくみるアコーディオン UI のサンプル</span>
                <span class="summary-icon" aria-hidden="true">
                    <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                        <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                    </svg>
                </span>
            </summary>
            <div class="details-text">
                <p>質問に対してここに答えを入れるイメージ。リストされている質問の数がとても多い場合などには、答え部分を閉じておくことで、質問を一覧できていいかもしれないけど、項目が少ないならあんまり閉じておく意味はないかもね。</p>
            </div>
        </details>
        <!--↑ここまでがひとつのブロック↑-->
    </div>
</div>`

const css = `/*---
下記 CSS はあくまでサンプルです。
他のCSSやブラウザの標準スタイルとの関係で調整が必要かもしれません
---*/

.details-sample-03 {
    margin-left: auto;
    margin-right: auto;
    max-width: 64rem;
}

.details-sample-03 .details-sample-header {
    font-size: 1.5rem;
    font-weight: 700;
    color: rgb(17 24 39 / 1);
}

.details-sample-03 .details-wrap {
    margin-top: 2.5rem;
	border-top-width: 1px;
    border-top-style: solid;
	border-color: rgb(17 24 39 / 0.1);
}

.details-sample-03 .details-wrap > :not([hidden]) ~ :not([hidden]) {
	border-top-width: 1px;
    border-top-style: solid;
	border-color: rgb(17 24 39 / 0.1);
}

.details-sample-03 details {
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
}

.details-sample-03 details summary {
    box-sizing: border-box;
    color: rgb(17 24 39 / 1);
	display: flex;
	width: 100%;
	list-style-type: none;
	align-items: flex-start;
	justify-content: space-between;
}

.details-sample-03 details summary:hover {
    cursor: pointer;
}

.details-sample-03 details summary::-webkit-details-marker {
    display: none;
}

.details-sample-03 details .summary-text {
    width: 100%;
    font-size: 1rem;
    line-height: 1.5rem;
    font-weight: 600;
}

.details-sample-03 details summary > :not([hidden]) ~ :not([hidden]) {
    margin-left: 1.5rem;
}

.details-sample-03 details .summary-icon {
	display: flex;
	height: 1.5rem;
	flex-shrink: 0;
	align-items: center;
	color: rgb(75 85 99 / 1);
}

.details-sample-03 details .summary-icon .arrow-icon {
	height: 1.5rem;
	width: 1.5rem;
	transition-property: transform;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 150ms;
}

.details-sample-03 details[open] .summary-icon .arrow-icon {
	transform: rotate(180deg);
}

.details-sample-03 details .details-text {
    padding-right: 3rem;
    color: rgb(55 65 81 / 1);
	margin-top: 1.5rem;
}

.details-sample-03 details .details-text p {
	margin: 0;
}`
---

<div class="bg-white px-4 py-24" id="sample-03">
    <div class="mx-auto max-w-7xl">
        <div class="details-sample-03">
            <h2 class="details-sample-header">サンプル 03 （アイコンが回転）</h2>
            <div class="details-wrap">
                {details.map((details) => (
                    <details>
                        <summary class="">
                            <span class="summary-text">
                                {details.title}    
                            </span>
                            <span class="summary-icon" aria-hidden="true">
                                <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                                    <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                                </svg>
                            </span>
                        </summary>
                        <div class="details-text" set:html={details.contents} />
                    </details>
                ))}
            </div>
        </div>
    </div>
</div>
<Code html={html} css={css} />
<style>
    .details-sample-03 {
        @apply mx-auto max-w-5xl;

        .details-sample-header {
            @apply text-2xl font-bold text-gray-900;
        }

        .details-wrap {
            @apply mt-10 divide-y divide-gray-900/10 border-t border-gray-900/10;
        }

        details {
            @apply py-6;

            summary {
                @apply flex w-full items-start justify-between text-gray-900 space-x-6 list-none;

                &:hover {
                    @apply cursor-pointer;
                }

                &::-webkit-details-marker {
                    display: none;
                }
            }

            .summary-text {
                @apply text-base font-semibold w-full;
            }

            .summary-icon {
                @apply flex shrink-0 h-6 items-center text-gray-600;

                .arrow-icon {
                    @apply w-6 h-6 transition-transform;
                }
            }

            &[open] {
                .summary-icon {
                    .arrow-icon {
                        @apply rotate-180;
                    }
                }
            }

            .details-text {
                @apply mt-6 pr-12 text-gray-700 space-y-4;
            }
        }
    }
</style>